<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record model="ir.actions.report" id="action_report_balance_eu_xml">
        <field name="name">Bilancio</field>
        <field name="model">account.balance.eu.wizard</field>
        <field name="report_type">qweb-html</field>
        <field
            name="report_name"
        >l10n_it_account_balance_eu.balance_eu_html_report</field>
        <field
            name="report_file"
        >l10n_it_account_balance_eu.balance_eu_html_report</field>
        <field name="binding_model_id" ref="model_account_balance_eu_wizard" />
<!--        <field name="binding_type">report</field>-->
    </record>
    <record model="ir.actions.report" id="action_report_balance_eu_xlsx">
        <field name="name">Bilancio Excel</field>
        <field name="model">account.balance.eu.wizard</field>
        <field name="report_type">xlsx</field>
        <field
            name="report_name"
        >l10n_it_account_balance_eu.balance_eu_xlsx_report</field>
        <field name="report_file">Bilancio</field>
        <field name="binding_model_id" ref="model_account_balance_eu_wizard" />
    </record>
    <template id="balance_eu_html_report">
        <t t-call="web.html_container">
            <t t-call="web.internal_layout">
                <div>
                    <h1>
                        <t t-esc="form_data['company_name']" />
                    </h1>
                    <h5>
                        <t t-esc="form_data['address']" />
                        -
                        <t t-esc="form_data['city']" />
                        <br />
                        P.IVA
                        <t t-esc="form_data['vat_code_nation']" />
                        <t t-esc="form_data['vat_code']" />
                        - Cod.Fisc.
                        <t t-esc="form_data['fiscalcode']" />
                        <br />
                        Capitale sociale Euro
                        <t t-esc="form_data['rea_capital']" />
                        - REA: <t t-esc="form_data['rea_office']" />-<t
                            t-esc="form_data['rea_num']"
                        />
                    </h5>
                    <h3>
                        <t t-esc="form_data['name']" />
                    </h3>
                    dal
                    <t
                        t-esc="form_data['date_from']"
                        t-options='{"widget": "date","format": "dd/MM/yyyy"}'
                    />
                    al
                    <t
                        t-esc="form_data['date_to']"
                        t-options='{"widget": "date","format": "dd/MM/yyyy"}'
                    />
                    <br />
                </div>
                <table>
                    <t t-foreach="balance_ue_lines" t-as="line">
                        <tr>
                            <td>
                                <span t-esc="line['code']" /> <!--codice voce-->
                            </td>
                            <td>
                                <t t-foreach="range(len(line['code'])-3)" t-as="c">
                                    <![CDATA[&emsp;]]>
                                </t>
                                <span t-esc="line['desc']" />
                            </td>
                            <td style="text-align: right">
                                <t t-if="form_data['values_precision']=='d'">
                                    <span
                                        t-esc="line['amount']"
                                        t-options='{"widget": "float", "precision": 2}'
                                    />
                                </t>
                                <t t-else="">
                                    <span
                                        t-esc="line['amount']"
                                        t-options='{"widget": "float", "precision": 0}'
                                    />
                                </t>
                            </td>
                        </tr>
                        <t t-foreach="line['accounts']" t-as="conto">
                            <tr style="font-size:0.8em; font-style: italic;">
                                <td>
                                    <span t-esc="conto['code']" />
                                </td>
                                <td>
                                    <span t-esc="conto['desc']" />
                                </td>
                                <td style="text-align: right">
                                    <span
                                        t-esc="conto['amount']"
                                        t-options='{"widget": "float", "precision": 2}'
                                    />
                                </td>
                            </tr>
                        </t>
                    </t>
                </table>
                <t t-if="len(unlinked_account)>0">
                    <br />
                    <h3>CONTI DA ASSOCIARE A UNA VOCE DI BILANCIO:</h3>
                    <table>
                        <t t-foreach="unlinked_account" t-as="conto">
                            <tr style="font-size:0.8em; font-style: italic;">
                                <td>
                                    <span t-esc="conto['code']" />
                                </td>
                                <td>
                                    <span t-esc="conto['desc']" />
                                </td>
                                <td style="text-align: right">
                                    <span
                                        t-esc="conto['amount']"
                                        t-options='{"widget": "float", "precision": 2}'
                                    />
                                </td>
                            </tr>
                        </t>
                    </table>
                </t>
            </t>
        </t>
    </template>

</odoo>
